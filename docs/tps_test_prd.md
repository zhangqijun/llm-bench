# 大模型TPS测试工具产品PRD

## 1. 产品概述

开发一个类似speedtest.net的在线大模型吞吐量(TPS)测试工具，支持多种后端推理引擎(vllm/sglang/ollama/llama.cpp/mindie等)

## 2. 核心模块设计

### 前端模块

- 测试控制面板

  - 模型选择下拉框
  - 后端类型选择(vllm/sglang/ollama/自定义)
  - 测试参数设置(并发数、请求数、连接超时时长，最大和最小token长度)
  - 开始/停止测试按钮

- 实时监控仪表盘

  - TPS实时曲线图
  - 延迟分布图
  - 资源占用监控(显存/内存/CPU/显卡利用率)

- 测试结果展示

  - 详细数据表格
  - 历史记录对比
  - 结果导出功能(CSV/JSON)

### 后端模块

- API代理层

  - 统一接口适配不同后端
  - 请求转发与负载均衡

- 测试引擎

  - 并发请求调度
  - 性能指标采集
  - 异常处理机制

- 数据存储

  - 测试结果存储
  - 历史记录管理

### 管理模块
- 系统设置

## 3. 关键用户功能

1. 一键测试：自动检测最优参数进行基准测试
2. 自定义测试：灵活配置测试参数
3. 结果对比：多组测试结果横向比较
4. 分享功能：生成测试报告链接
5. 历史记录：保存历次测试数据

## 4. 技术实现方案

- 前端：Vue.js + ECharts
- 后端：Python FastAPI
- 数据库：SQLite(轻量)/PostgreSQL(可选)
- 部署：Docker容器化
